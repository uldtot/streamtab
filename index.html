<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">

    <title>My Movie Library</title>

    <style>
html, #content {
    background: #141414;
}

h1,h2,h3,h4,h5,h6 { color:#fff !important; }

img { max-width: 100%;}

.listservicesrowitem {
    padding:0px !important;
}

.listservicesrowitem .innerdiv{
  display: flex;
    background: #000 !important;
    width: 100%;
    height: 100%;
    padding: 5%;
}
.listservicesrowitem div img {
    filter: grayscale(100%);
}

.listservicesrowitem:hover div img {
    filter: grayscale(0%);
}
span.servicetitle {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0%;
    text-align: center;
    color: rgb(255 255 255 / 85%);
    background: #00000040;
    padding: 6px;
}

.listservicesrow {
    text-align:center;
}
.listservicesrowitem {
    text-align: center;
}
.navbar  {
    background-color: #141414 !important;
}
.btn-primary {
    color: #fff;
    background-color: #141414 !important;
    border-color: #424242 !important;
}
.form-control {
    color: #fff;
    border-color: #424242 !important;
    border-radius: 0.25rem 0 0 0.25rem !important;
    border-right: 0px !important;
    background-color: #141414 !important;
}

.btnsearch {

    border-radius: 0 0.25rem 0.25rem 0 !important;
}
    </style>
</head>

<body>
    <main id="content">

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <nav class="navbar navbar-expand-lg navbar-dark">
                        
                        <div class="col-md-2">
                        <a class="navbar-brand" href="#">
                            <svg width="100%" height="100%" viewBox="0 0 492 492" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="    width: 32px;
                            height: 32px;fill:#fff;fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
                                <g transform="matrix(0.1,0,0,-0.1,-256.419,769.005)">
                                    <path d="M4275,7423C3969,7376 3703,7211 3514,6949C3395,6786 3340,6635 3300,6362C3293,6312 3280,6274 3258,6237C3196,6134 3110,6038 3020,5973C2962,5930 2775,5820 2761,5820C2757,5820 2731,5801 2705,5778C2617,5700 2597,5610 2651,5530C2693,5467 2734,5435 2804,5409C2917,5366 3124,5384 3405,5461C3466,5478 3525,5494 3538,5497C3555,5501 3574,5490 3619,5449C3735,5342 3796,5296 3868,5262C3936,5230 3941,5225 3935,5202C3932,5188 3918,5124 3905,5061C3892,4997 3872,4911 3860,4870C3848,4829 3830,4761 3819,4720C3800,4650 3771,4574 3699,4410C3587,4151 3592,3766 3712,3522C3792,3359 4008,3170 4185,3110C4224,3097 4260,3083 4265,3079C4271,3075 4327,3064 4390,3054C4495,3037 4584,3035 5435,3035C6430,3035 6427,3035 6605,3086C6799,3143 7016,3295 7132,3455C7260,3633 7331,3790 7385,4018C7399,4074 7413,4133 7416,4148C7428,4195 7431,4491 7422,4585C7404,4755 7339,4981 7284,5066C7240,5134 7216,5145 7120,5145C7044,5145 7028,5141 6973,5113C6938,5095 6893,5068 6873,5052C6723,4938 6581,4840 6565,4840C6561,4840 6545,4831 6530,4820C6492,4793 6391,4756 6288,4731C6220,4714 6169,4710 6024,4710C5801,4709 5715,4722 5566,4780C5492,4809 5372,4886 5325,4934C5257,5005 5140,5192 5140,5230C5140,5238 5131,5260 5119,5279C5100,5310 5100,5314 5114,5322C5123,5327 5157,5353 5189,5380C5403,5558 5571,5902 5587,6193C5592,6289 5583,6422 5566,6495C5553,6554 5528,6639 5510,6686C5488,6747 5411,6902 5400,6910C5396,6913 5382,6931 5369,6951C5269,7103 5125,7223 4929,7319C4760,7402 4677,7421 4475,7424C4382,7426 4292,7425 4275,7423ZM3897,6667C3987,6620 4025,6493 3974,6415C3951,6379 3908,6367 3830,6372C3680,6383 3616,6478 3676,6602C3713,6680 3815,6709 3897,6667Z" style="fill-rule:nonzero;"/>
                                </g>
                            </svg><span style="vertical-align: middle;margin-left:10px;">Entertainment</span>

                        </a>
                    </div>
                    <div class="col-md-8 form-inline justify-content-center">
                            <form class="form-inline ml-auto mr-auto">
                                <input class="form-control" type="text" placeholder="Start your search..." /> 
                                <button class="btn btn-primary my-2 my-sm-0 btnsearch" type="submit">Search</button>
                            </form>
                        </div>
                        <div class="col-md-2 text-right">
                           
                                     <!-- Button trigger modal -->
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Add new</button>
                              
                      </div>
                    </nav>
                </div>
            </div>
            <!-- Streaming services -->
            <div class="row px-4 py-4">
                <div class="col-md-2">
                    <div class="page-header">
                        <h1>
                            Your streaming services<br><small>A list you have created for your entertainment</small>
                        </h1>
                    </div>
                </div>
                <div class="col-md-10" id="listservices">
                    <div class="row d-flex align-items-stretch" id="listservicesrow"><!-- Row output here --></div>
                </div>
            </div>


            <div class="row">
                <div class="col-md-12 text-center footer">
                    <p class=" my-4" style="color:#fff;">Entertainment at Your Fingertips â€¢ <a href="https://github.com/websitecareio/duckchannel" target="_blank" style="color:#fff;text-decoration: underline;">GitHub</a></span>
                        <br>
                        <a class="" href="#" id="exportdata" onclick="exportData()" target="_blank" style="color:#424242;">Export data</a> | <a class="" href="#" id="exportdata" data-target="#importModal" data-toggle="modal" style="color:#424242;">Import data</a> | <a class="" href="#" id="exportdata" onclick="return clearData()" style="color:#424242;">Remove all data</a>
              
                    </div>

               
            </div>

    </main>

    <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <form id="dataform">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
                    <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" class="form-control" id="title" name="title" required>
                    </div>
                    <div class="form-group">
                    <label for="type">Type</label>
                    <select class="form-control" id="type" name="type" required>
                        <option>Movie</option>
                        <option>Serie</option>
                        <option>Service</option>
                    </select>
                    </div>
                    <div class="form-group">
                    <label for="description">Description</label>
                    <textarea class="form-control" id="description" rows="3" name="description" required></textarea>
                    </div>
                    <div class="form-group">
                    <label for="image">Image</label>
                    <input type="text" class="form-control" id="image" name="image" required>
                    </div>
                    <div class="form-group">
                    <label for="url">URL</label>
                    <input type="text" class="form-control" id="url" name="url" required>
                    </div>
                
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="addData()">Save changes</button>
            </div>
      </form>
      </div>
    </div>
  </div>

<!-- Import Modal -->
<div class="modal fade" id="importModal" tabindex="-1" role="dialog" aria-labelledby="importModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="importModalLabel">Import data</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form id="importForm">
            <div class="form-group">
              <label for="importField">Data</label>
              <textarea class="form-control" id="importField" rows="3"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" onclick="importData()">Import</button>
        </div>
      </div>
    </div>
  </div>




  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  
  <script>
    loadServices();


    // Load services data
    function loadServices() {
    // Check if the duckdata array exists in local storage
    if (localStorage.getItem("duckdata") !== null) {
        // If it does, get the array and loop through the items
        var duckdata = JSON.parse(localStorage.getItem("duckdata"));
        for (var i = 0; i < duckdata.length; i++) {
        // Get the title value of each item
        var title = duckdata[i].title;
        var type = duckdata[i].type;
        var description = duckdata[i].description;
        var image = duckdata[i].image;
        var url = duckdata[i].url;
        // Output the title value to the page
        document.getElementById("listservicesrow").innerHTML += "<div class=\"col-md-3 px-4 py-4  listservicesrowitem d-flex \"><div class=\"innerdiv\"><a href=\""+url+"\" target=\"_blank\"><img src=\""+image+"\"><span class=\"servicetitle  mx-4 my-4\">"+title+"</span></a></div></div>";
        }
    }
}

  // Save data
    function addData() {
      // Get the duckdata data from the form
      var title = document.getElementById("title").value;
      var type = document.getElementById("type").value;
      var description = document.getElementById("description").value;
      var image = document.getElementById("image").value;
      var url = document.getElementById("url").value;
        
      
        if (title === "" || type === "" || description === "" || image === "" || url === "") {
            // The title field is empty, so prevent the form from being submitted
            event.preventDefault();
            alert("All fields must be filled");
            return;
        }
    

      // Create a duckdata object
      var data = {
        title: title,
        type: type,
        description: description,
        image: image,
        url: url
      };
  
      // Check if the movies array already exists in local storage
      if (localStorage.getItem("duckdata") === null) {
        // If it doesn't, create a new array and add the duckdata
        var duckdata = [];
        duckdata.push(data);
        localStorage.setItem("duckdata", JSON.stringify(duckdata));
      } else {
        // If it does, get the array and add the movie
        var duckdata = JSON.parse(localStorage.getItem("duckdata"));
        duckdata.push(data);
        localStorage.setItem("duckdata", JSON.stringify(duckdata));
      }
  
      // Clear the form
      document.getElementById("dataform").reset();
    }

    // Export data
    function exportData() {

         // Check if the data array exists in local storage
        if (localStorage.getItem("duckdata") !== null) {

            console.log("Exporting...");
            // If it does, get the array and convert it to a string
            var data = JSON.stringify(JSON.parse(localStorage.getItem("duckdata")));

            // Create a Blob object containing the data string
            var blob = new Blob([data], {type: "text/plain"});

            // Create a download link for the Blob object
            var download = document.getElementById("exportdata");
            download.href = URL.createObjectURL(blob);
            
        } else {
            console.log("No data found..");
        }

    }

    // Clear data
    function clearData() {
  // Show a confirm dialog
  if (confirm("Are you sure you want to clear all data from local storage?")) {
    // Clear all data from local storage
    localStorage.clear();
    return true;
  } else {
    // Do not clear the data
    return false;
  }
}

// Import data

function importData() {
  // Get the data from the textarea field
  var data = document.getElementById("importField").value;

  // Parse the data into a JavaScript object
  var dataObject = JSON.parse(data);

  // Store the data object in local storage
  localStorage.setItem("duckdata", JSON.stringify(dataObject));

  // Close the modal
  $("#importModal").modal("hide");
}

  </script>

</body>

</html>
